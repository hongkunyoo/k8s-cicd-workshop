# FluxCD를 이용한 배포

여러 개의 기계학습 Job을 동시에 실행시켜 보겠습니다. 쿠버네티스를 이용하여 기계학습을 한다면 다음과 같은 장점을 얻을 수 있습니다. 

- 스케줄링이 편리해집니다: 사람이 직접 스케줄링하던 기계학습 훈련을 쿠버네티스에게 맡깁니다. 학습 서버가 증가할수록 그 효과는 커집니다.
- 확장성: 리소스가 부족하여 서버를 추가해야 할때 확장이 용이해 집니다.
- Job 관리가 편리해 집니다: 현재 어떤 잡이 실행되고 있는지, 어떤 잡이 끝났는지, 장애 발생여부 등 
- 모니터링이 편리해 집니다: 리소스 사용량, 기계학습 로그 모니터링
- 배포가 쉬워집니다: 라이브러리, 소스코드
- 장애에 견고해집니다: 장애발생시, 쉽게 대응할 수 있습니다.

### 스크립트 설명
- [`experiments.yaml`](experiments.yaml): 사용자 정의 학습 스크립트 및 모델 파라미터
- `job.yaml`: job 템플릿 파일 (직접 작성)
- [`run-multi.py`](run-multi.py): template을 불러와 사용자가 정의한 정보들을 순차적으로 넣어 job을 완성시켜 쿠버네티스 마스터에 명령을 내립니다. (`WRITE YOUR CODE HERE` 부분 빈칸 채우기)

---

### How-to

```bash
# multi job 실행
python run-multi.py
```

